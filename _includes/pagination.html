{%- assign list_pages = site.pages | sort:"date" | reverse -%}
{%- assign post_counts = 0 -%}

<h1 class="category-header">
    Bienvenido a mi página
</h1>

<h3>     ¡Hola! Soy Ignacio Jara, estudiante de Ciencia de Datos y apasionado por la meteorología. En este espacio, encontrarás información sobre mi vida, mis proyectos, mi educación y mis objetivos</h3>

<h3>      A continuación, verás algunos de los posts que he destacado por su relevancia o interés:</h3>

<div id="category-list">
    <ul class="paginated-list" data-current-page="1" aria-live="polite">
    {%- for sub_page in list_pages -%}
        {%- assign page_url = page.url | remove: 'index.html' -%}
        {% if sub_page.url contains page_url %}
        {% unless sub_page.url contains "index.html" %}
            {%- assign post_counts = post_counts | plus:1 -%}

            {% if sub_page.categories contains "Favoritos" %}
                <li class="paginated-item">
                    <div id="article_content">
                        <div class="thumbnail_zone">
                            {% if sub_page.thumbnail != nil %}
                                {%- assign thumbnail_url = sub_page.thumbnail -%}
                                {%- assign check_localasset = thumbnail_url | split:'/' -%}
                                {% if check_localasset[0] == '' %}
                                    {%- assign thumbnail_url = thumbnail_url | prepend: site.baseurl -%}
                                {% endif %}
                                <a href="{{ sub_page.url | prepend: site.baseurl }}" class="thumbnail_post" loading="lazy" aria-label="thumbnail_post" style="background-image:url('{{ thumbnail_url }}') !important"></a>
                            {% else %}
                                <a href="{{ sub_page.url | prepend: site.baseurl }}" class="thumbnail_post empty" loading="lazy" aria-label="thumbnail_post" style="background-image:url('{{ '/assets/img/thumbnail/empty.jpg' | prepend: site.baseurl }}') !important"></a>
                            {% endif %}
                        </div>
                        <div class="box_contents">
                            <a href="{{ sub_page.url | prepend: site.baseurl }}"><h1 class="title_post">{{ sub_page.title }}</h1></a>
                            <a href="{{ sub_page.url | prepend: site.baseurl }}" class="txt_post">
                                {{ sub_page.content | markdownify | strip_html }}
                            </a>
                            <div class="info-post">
                                <span class="category">{{ sub_page.categories | join: ", " }}</span>
                                <span class="date">· {{ sub_page.date | date: "%Y-%m-%d" }}</span>
                            </div>
                        </div>
                    </div>
                </li>
            {% endif %}
        {% endunless %}
        {% endif %}
    {%- endfor -%}
    </ul>

    {% if post_counts == 0 %}
        <div class="no-posts">
            <img src="{{ '/assets/img/sorry.png' | prepend: site.baseurl }}"></img>
            <h1>No hay posts destacados aún</h1>
        </div>
    {% endif %}
</div>
